<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููุฉ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');
        
        * {
            font-family: 'Tajawal', sans-serif;
            box-sizing: border-box;
        }

        :root {
            --correct-color: #6ca965;
            --present-color: #c8b653;
            --absent-color: #787c7e;
            --default-color: #d3d6da;
            --bg-color: #ffffff;
            --text-color: #000000;
            --border-color: #d3d6da;
            --key-bg: #d3d6da;
            --key-text: #000000;
            --enter-color: #5b9bd5; /* ุฃุฒุฑู ูุงุชุญ */
            --backspace-color: #ff6b6b; /* ุฃุญูุฑ */
        }

        .dark-mode {
            --correct-color: #538d4e;
            --present-color: #b59f3b;
            --absent-color: #3a3a3c;
            --default-color: #818384;
            --bg-color: #121213;
            --text-color: #ffffff;
            --border-color: #3a3a3c;
            --key-bg: #818384;
            --key-text: #ffffff;
            --enter-color: #4a8bc7; /* ุฃุฒุฑู ูุงุชุญ ูููุถุน ุงููููู */
            --backspace-color: #e74c3c; /* ุฃุญูุฑ ูููุถุน ุงููููู */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ุชุญุณููุงุช ููุฃุญุฌุงู ุงููุณุจูุฉ */
        .tile {
            width: 60px;
            height: 60px;
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            user-select: none;
            transition: all 0.3s ease;
        }

        /* ุฃุญุฌุงู ูุชุฌุงูุจุฉ ููุฌูุงู */
        @media (max-width: 640px) {
            .tile {
                width: 50px;
                height: 50px;
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .tile {
                width: 44px;
                height: 44px;
                font-size: 1.6rem;
            }
        }

        @media (max-width: 360px) {
            .tile {
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
        }

        /* ุฃุญุฌุงู ููููุจููุชุฑ ูุงูุชุงุจูุช */
        @media (min-width: 1024px) {
            .tile {
                width: 65px;
                height: 65px;
                font-size: 2.2rem;
            }
        }

        @media (min-width: 1440px) {
            .tile {
                width: 70px;
                height: 70px;
                font-size: 2.5rem;
            }
        }

        .tile.filled {
            border-color: #878a8c;
            animation: pop 0.1s ease;
        }

        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .tile.correct {
            background-color: var(--correct-color);
            border-color: var(--correct-color);
            color: white;
        }

        .tile.present {
            background-color: var(--present-color);
            border-color: var(--present-color);
            color: white;
        }

        .tile.absent {
            background-color: var(--absent-color);
            border-color: var(--absent-color);
            color: white;
        }

        .flip {
            animation: flip 0.6s ease;
        }

        @keyframes flip {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(90deg); }
            100% { transform: rotateX(0); }
        }

        /* ุชุญุณููุงุช ูููุญุฉ ุงูููุงุชูุญ */
        .key {
            height: 58px;
            min-width: 40px;
            background-color: var(--key-bg);
            color: var(--key-text);
            border: none;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
            flex: 1;
            margin: 0 3px;
            padding: 0 5px;
        }

        /* ุฃููุงู ุฎุงุตุฉ ููุฃุฒุฑุงุฑ */
        .key.enter {
            background-color: var(--enter-color);
            color: white;
        }

        .key.backspace {
            background-color: var(--backspace-color);
            color: white;
        }

        /* ุฃุญุฌุงู ูุชุฌุงูุจุฉ ููุฃุฒุฑุงุฑ */
        @media (max-width: 640px) {
            .key {
                height: 50px;
                min-width: 30px;
                font-size: 0.9rem;
                margin: 0 2px;
            }
        }

        @media (max-width: 480px) {
            .key {
                height: 45px;
                min-width: 25px;
                font-size: 0.8rem;
                margin: 0 1px;
            }
        }

        @media (max-width: 360px) {
            .key {
                height: 42px;
                min-width: 22px;
                font-size: 0.75rem;
            }
        }

        .key:hover {
            opacity: 0.9;
        }

        .key.wide {
            min-width: 65px;
            font-size: 0.8rem;
        }

        @media (max-width: 640px) {
            .key.wide {
                min-width: 50px;
                font-size: 0.7rem;
            }
        }

        @media (max-width: 480px) {
            .key.wide {
                min-width: 45px;
                font-size: 0.65rem;
            }
        }

        .key.correct {
            background-color: var(--correct-color);
            color: white;
        }

        .key.present {
            background-color: var(--present-color);
            color: white;
        }

        .key.absent {
            background-color: var(--absent-color);
            color: white;
        }

        .shake {
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .bounce {
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
        }

        .stats-bar {
            height: 32px;
            background-color: var(--absent-color);
            color: white;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            margin: 2px 0;
        }

        /* ุชุญุณููุงุช ููุฑุฃุณ */
        header {
            padding: 8px 12px;
        }

        @media (max-width: 480px) {
            header {
                padding: 6px 8px;
            }
        }

        h1 {
            font-size: 2rem;
        }

        @media (max-width: 640px) {
            h1 {
                font-size: 1.7rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }
        }

        /* ุชุญุณููุงุช ูููุญุชูู ุงูุฑุฆูุณู */
        main {
            padding: 10px 5px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        @media (max-width: 640px) {
            main {
                padding: 8px 4px;
            }
        }

        #grid {
            gap: 6px;
            margin-bottom: 20px;
        }

        @media (max-width: 640px) {
            #grid {
                gap: 4px;
                margin-bottom: 15px;
            }
        }

        #keyboard {
            padding: 8px;
            gap: 6px;
            width: 100%;
        }

        @media (max-width: 640px) {
            #keyboard {
                padding: 6px;
                gap: 4px;
            }
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 6px;
            width: 100%;
        }

        /* ุชุญุณููุงุช ููุฑุณุงุฆู */
        #message {
            font-size: 1.1rem;
            height: 30px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 10px;
        }

        @media (max-width: 640px) {
            #message {
                font-size: 1rem;
                height: 26px;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 480px) {
            #message {
                font-size: 0.9rem;
                height: 24px;
            }
        }

        /* ุชุญุณููุงุช ููุฃุฒุฑุงุฑ */
        button {
            touch-action: manipulation;
        }

        /* ุชุญุณููุงุช ูุฒุฑ ุงูุชุจุฏูู */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: var(--correct-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* ุชุญุณููุงุช ููููุงูุฐ ุงูููุจุซูุฉ */
        .modal-content {
            width: 95%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }

        @media (max-width: 640px) {
            .modal-content {
                width: 98%;
                margin: 10px;
            }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- ุงูุฑุฃุณ -->
    <header class="flex items-center justify-between px-3 py-2 border-b border-[var(--border-color)]">
        <div class="flex items-center gap-2">
            <button id="helpBtn" class="p-2 hover:bg-[var(--default-color)] rounded-full">
                <i class="fas fa-question-circle text-xl"></i>
            </button>
            <button id="statsBtn" class="p-2 hover:bg-[var(--default-color)] rounded-full">
                <i class="fas fa-chart-bar text-xl"></i>
            </button>
        </div>
        <h1 class="text-2xl font-bold text-center flex-1 mx-2">ููููููุฉ</h1>
        <div class="flex items-center gap-2">
            <button id="themeToggle" class="p-2 hover:bg-[var(--default-color)] rounded-full flex items-center gap-2">
                <i class="fas fa-moon text-xl"></i>
                <span class="text-sm hidden sm:inline">ูููู/ููุงุฑู</span>
            </button>
        </div>
    </header>

    <!-- ุดุจูุฉ ุงููุนุจุฉ -->
    <main class="flex-grow flex flex-col items-center justify-center">
        <div id="message" class="text-center font-bold"></div>
        <div id="grid" class="grid grid-rows-8 gap-2 mb-4"></div>
        
        <!-- ููุญุฉ ุงูููุงุชูุญ -->
        <div id="keyboard" class="w-full px-2 space-y-2 max-w-xl"></div>
    </main>

    <!-- ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    <div id="helpModal" class="fixed inset-0 modal-overlay z-50 flex items-center justify-center hidden p-4">
        <div class="bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">ููููุฉ ุงููุนุจ</h2>
                    <button id="closeHelp" class="text-2xl hover:text-[var(--absent-color)]">&times;</button>
                </div>
                <p class="mb-4">ุชุฎููู ุงููููุฉ ูู 8 ูุญุงููุงุช</p>
                <p class="mb-6">ุจุนุฏ ูู ุชุฎูููุ ูุชุบูุฑ ููู ุงูุจูุงุทุงุช ููุนุทูู ุชูููุญุงุช</p>
                <div class="space-y-4 mb-6">
                    <div class="flex items-center gap-3">
                        <div class="tile correct">ู</div>
                        <p>ุงูุญุฑู <strong>ู</strong> ูู ููุงูู ุงูุตุญูุญ</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="tile present">ุน</div>
                        <p>ุงูุญุฑู <strong>ุน</strong> ููุฌูุฏ ูู ุงููููุฉ ูููู ูู ููุงู ุขุฎุฑ</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="tile absent">ุง</div>
                        <p>ุงูุญุฑู <strong>ุง</strong> ุบูุฑ ููุฌูุฏ ูู ุงููููุฉ</p>
                    </div>
                </div>
                <p class="mb-6"><strong>ููุงุญุธุฉ:</strong> ุงููุธุงู ูููุฒ ุจูู ุงูุญุฑูู ุงููุฎุชููุฉ (ุฃุ ุฅุ ุขุ ุงุ ุฉุ ู)</p>
                <div class="text-center">
                    <button id="startGameBtn" class="bg-[var(--correct-color)] text-white px-6 py-3 rounded font-bold hover:opacity-90">ุจุฏุก ูุนุจุฉ ุฌุฏูุฏุฉ</button>
                </div>
            </div>
        </div>
    </div>

    <div id="statsModal" class="fixed inset-0 modal-overlay z-50 flex items-center justify-center hidden p-4">
        <div class="bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">ุงูุฅุญุตุงุฆูุงุช</h2>
                    <button id="closeStats" class="text-2xl hover:text-[var(--absent-color)]">&times;</button>
                </div>
                <div class="flex justify-around mb-8">
                    <div class="text-center">
                        <div id="playedCount" class="text-3xl font-bold">0</div>
                        <div class="text-sm">ุงูุนุจ</div>
                    </div>
                    <div class="text-center">
                        <div id="winPercent" class="text-3xl font-bold">0%</div>
                        <div class="text-sm">ููุฒ</div>
                    </div>
                    <div class="text-center">
                        <div id="currentStreak" class="text-3xl font-bold">0</div>
                        <div class="text-sm">ุชุชุงุจุน</div>
                    </div>
                    <div class="text-center">
                        <div id="maxStreak" class="text-3xl font-bold">0</div>
                        <div class="text-sm">ุฃุนูู ุชุชุงุจุน</div>
                    </div>
                </div>
                <h3 class="font-bold mb-3">ุชูุฒูุน ุงูุชุฎูููุงุช</h3>
                <div id="guessDistribution" class="space-y-1 mb-6"></div>
                <div class="space-y-3">
                    <button id="shareBtn" class="w-full bg-[var(--correct-color)] text-white py-3 rounded font-bold hover:opacity-90">
                        <i class="fas fa-share-alt ml-2"></i>ูุดุงุฑูุฉ ุงููุชูุฌุฉ
                    </button>
                    <button id="newGameBtn" class="w-full border border-[var(--border-color)] py-3 rounded font-bold hover:bg-[var(--default-color)]">ูุนุจุฉ ุฌุฏูุฏุฉ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ูุงุฆูุฉ ุงููููุงุช ุงูุนุฑุจูุฉ
        const WORD_LIST = ["ุทุงููุฉ", "ููุชุจุฉ", "ุชูุงุญุฉ", "ุฎุฒุงูุฉ", "ูุงูุฐุฉ", "ุดุงุดุงุช", "ุฃุจูุงุจ", "ุฃููุงู", "ุฃูุฑุงู", "ุฏูุงุชุฑ", "ูุณุทุฑุฉ", "ููุชุงุญ", "ุณูุงุฑุฉ", "ุทูุงุฑุฉ", "ุฏุฑุงุฌุฉ", "ุญุงููุฉ", "ุดุงุญูุฉ", "ุจุงุฎุฑุฉ", "ุณูููุฉ", "ูุญุทุงุช", "ูุฏููุฉ", "ูุฑูุงุช", "ุญุฏููุฉ", "ุบุงุจุงุช", "ุตุญุฑุงุก", "ูุถุจุงุช", "ุฃููุงุฑ", "ุฃููุงุฌ", "ููุงูุจ", "ุฃุชุฑุจุฉ", "ุฃุญุฌุงุฑ", "ุฃุดุฌุงุฑ", "ุฃุฒูุงุฑ", "ูุฑุฏุงุช", "ูุฎูุงุช", "ุฃุนูุงุจ", "ููุฒุงุช", "ุฌุฒุฑุงุช", "ุจุตูุงุช", "ููููู", "ุฎูุฎุงุช", "ุชูุชุงุช", "ุฑูุงูุฉ", "ุจุทูุฎุฉ", "ูุนูุงุน", "ููููุจ", "ููุจูุน", "ููุงุฏุฑ", "ุทุงููุณ", "ุนุดุฑูู", "ุฐูุจุงู", "ูุจุงุฑู", "ุนูุฌุงุก", "ูุนุทุงุก", "ููููุฉ", "ุจุถุงุนุฉ", "ูุตูุญุฉ", "ุชูุฌูู", "ุจูุชุงู", "ุธุฑูุงุก", "ุจุงุฏูุฉ", "ูุฑุงูุง", "ูุงุฏูุฉ", "ุดูุนุงุก", "ุจุงุฆูุฉ", "ูุงุจูุณ", "ุชูุงูุฉ", "ูุฐุงุนุฉ", "ููุงูุฉ", "ูุณูุงุฑ", "ุจุงููุฑุฉ", "ูุฑุณุงุฉ", "ูุฑุงุฌุน", "ูุงุฑุซุฉ", "ุชุงุจูุช", "ุดูุงุบุฑ", "ููุงูู", "ููุงูุง", "ุบูุงุธุฉ", "ุฑูุญุงู", "ูุฌูุฒุฉ", "ููุงูุฉ", "ููุฑุงุก", "ุชุงุฑูุฎ", "ุทุงุบูุช", "ูุณุทุงุก", "ููุงุฏุฉ", "ุชุฑุถูุฉ", "ุชูุตูุฉ", "ุฎุถุฑุงุก", "ุจุงุญุซุฉ", "ููุทุงุฏ", "ููููุฉ", "ูุฌูุญุฉ", "ูุคุฏุจุฉ", "ุชุนูุณุฉ", "ูุจุชุณู", "ูููุงุก", "ุนููุงุก", "ุชุงุจุนุฉ", "ูุดุทุงุก", "ุจุฑุงูุฉ", "ููุฒุงู", "ุซุฑุซุงุฑ", "ุฌูุฑุงู", "ุจุงููุฉ", "ูุทุจูุน", "ุชูุธูู", "ููุฌุงู", "ูุงุถูุฉ", "ูุจุณุทุฉ", "ูุตูุงุฉ", "ููุงูุฉ", "ุญููุงู", "ุฌุงุณูุณ", "ุฑูุถุงู", "ุนุตููุฑ", "ููุงุฑุฉ", "ูุดูุดุฉ", "ุชูููุจ", "ูุชุฑูุฉ", "ุนุฒุจุงุก", "ุนุฐุฑุงุก", "ุฒุนูุงุก", "ูุญูุงุช", "ุชุฑููุฉ", "ุชูุงุฆู", "ูููุงุฏ", "ุจูุฏุงู", "ุชูุถูุญ", "ุฑูุบุงู", "ูุณููุฉ", "ูุฐุงูุจ", "ูุถูุญุฉ", "ูุตููุฉ", "ูุฑุฌุงู", "ูุจุงุญุฉ", "ูุชุญูุฑ", "ุจุงุนุซุฉ", "ุฒููุงุก", "ูุซูุฑุฉ", "ููุฏูุฉ", "ูุฑูุงุก", "ุชุณููุฉ", "ูุดุงูุณ", "ุนูููุฉ", "ููููุฉ", "ุชูุฏูุน", "ุชุดุฑุฐู", "ุชูููุฑ", "ุชุงุฌุฑุฉ", "ููููุฉ", "ูุงููู", "ููููุฉ", "ูุญุฏูุฏ", "ูุทูุงุก", "ูุตุงูุฉ", "ูุชุนุงู", "ูุคุฐูุฉ", "ูุธููุฉ", "ุดุฑูุงุก", "ุญูุฑุงุก", "ูุงููุณ", "ูุฃููู", "ูุณุงูุฑ", "ุจุฏุงูุฉ", "ุชูุตูู", "ููุงูุฉ", "ุฌุงููุณ", "ูุจุงูู", "ููุงูู", "ุตุงุจูู", "ุบููุงู", "ูุฌุฑุงุช", "ุซูุงูุฉ", "ุชุงุฆุจุฉ", "ุชุฃุณูุณ", "ุชูููู", "ูููุงุก", "ูุฌูุฏุฉ", "ูุฒุฑุงุก", "ูุจุงุญุซ", "ููููุฉ", "ุชุถุงุฑุจ", "ูุชููุฉ", "ุชุณููุฉ", "ุชุงุฆูุฉ", "ุนููุงุก", "ูููุงุช", "ูุนูุดุฉ", "ุจุงุฆุนุฉ", "ุฏููุงู", "ุตุงุฑูุฎ", "ุชุนุจุฆุฉ", "ูุงููุณ", "ุชูุงูุฉ", "ูุฃููู", "ูุงุดูุฉ", "ุจุงูุชุฉ", "ูุคูุฏุฉ", "ููุงูุฉ", "ุจุทูุงู", "ูููุณุฉ", "ูุฌุฏูุฉ", "ูุฑููู", "ุฎูุงุทุฑ", "ูุฌุชุงุฒ", "ุบุฑุงูุฉ", "ูุนุชุฏู", "ุนูุงุทู", "ุฒุฎุงุฑู", "ููุงูุญ", "ุนุงููุฏ", "ููุงุนุฉ", "ูุนููุฉ", "ุฒุฑุงุฑุฉ", "ูุนููู", "ุฒุฑุงุนุฉ", "ุชูุซูู", "ุณุฏุงุณู", "ููุงุฌุฑ", "ุฌุฑุงุญุฉ", "ูุนุงูุณ", "ุดุจูุจุฉ", "ูุนุงุจุฏ", "ูุฌุงูุฏ", "ุชุฌุฑูุจ", "ููุงูุฏ", "ุดุฑููุฉ", "ุนูุตุฑู", "ูุณุงุฌุฏ", "ุณูุงูุฉ", "ุณุฌุงุฏุฉ", "ุฑุฒูุจุฉ", "ุดุญุงุฏุฉ", "ุญููุงุช", "ูุทุงูุฉ", "ุชุนููู", "ูุชุงุญู", "ุฑุงุบุจุฉ", "ูุนุฒูู", "ุชุณูุณู", "ุณูุงุญู", "ูุฏุงุฑุณ", "ูุณุชูุฑ", "ุฑุจุงุนู", "ุชุนุฑูู", "ููุงูู", "ูููุงุก", "ุซุฎููุฉ", "ุชุญููู", "ููุงุชุจ", "ุนูุงูุฉ", "ููุงูุน", "ุซูุงุฆู", "ูุทููุฉ", "ุชุณุจูุญ", "ูุฌุงูุณ", "ุชูุฑูุฏ", "ูุนุงูุฏ", "ูุตุงุญุจ", "ุฑููุนุฉ", "ุชุญููุฒ", "ุจูุตูุฉ", "ูููุงุช", "ุฏุงุฆุฑุฉ", "ูุณููุญ", "ุดุนุฑุงุก", "ุฒุฑุนุงุช", "ุณุฐุงุฌุฉ", "ุณููุญุฉ", "ููุณุงุช", "ุฌุฑุงูุฉ", "ูุฎุชุจุฑ", "ูููุงุฌ", "ูุณูุณู", "ุชุตุฑูุญ", "ุตุญุงุจุฉ", "ูุงุฑูุฉ", "ุฎูุงุณู", "ูุฌููุน", "ูุซุจุชุฉ", "ููุชุนุฉ", "ููุงุซู", "ุนุงุฆุฏุฉ", "ุตูุงุนุฉ", "ููููุน", "ูุตุงุญู", "ููุงูุญ", "ุชูููุฉ", "ูุฌุฑูุญ", "ุตุญูุญุฉ", "ูุงุฑุณุฉ", "ุดูุงุฆุจ", "ุซูุงุซู", "ููุงูุจ", "ุฒูุฑุงุก", "ุณูููุฉ", "ูุชุงุฌุฑ", "ุตูุฑุงุก", "ุฎุงุทุฆุฉ", "ุชูููุฏ", "ููููุฉ", "ุงูุณุชุฉ", "ุตุนูุจุฉ", "ูุฑุจุนุฉ", "ูุฌููุฑ", "ููุงุนุฏ", "ูุทุฑูุญ", "ููุชูุจ", "ูุงุฏูุฉ", "ูุฏุงูุน", "ุดุจุงุจู", "ุชุฑููุจ", "ุฌุฑูุญ", "ููููุฉ", "ุณุฌููุฉ", "ูุนุฏุงุช", "ููุญุงุช", "ูุฌุฑุงุช", "ุนูุฑุงุก", "ูุดุงุนุฑ", "ูุฑุงุฏู", "ุฎูุณุงุก", "ูุฏุฑูุณ", "ููุงุดู", "ุนุจุงุกุฉ", "ูุญุชูู", "ุญููุงุช", "ูุฑููุฉ", "ุชุณููู", "ููููุฉ", "ุดุงุญุจุฉ", "ุนุตูุจุฉ", "ููุชูู", "ููุตูู", "ูุนููุฉ", "ูุญุจูุจ", "ุจุงุณุทุฉ", "ุณุงุจูุฉ", "ูุฎุทุท", "ุฌุงููุฉ", "ููุทูุฑ", "ุบููุงู", "ูุฌุจูุฑ", "ูุจุนูุซ", "ุธุงููุฉ", "ูุญุงูู", "ุชูุฑูุฉ", "ูุฌุงูุฒ", "ูุฎุดูุฉ", "ุฃุฌุฒุงุก", "ูุดูุฆุฉ", "ุซููุงู", "ููููู", "ูุงุถุฌุฉ", "ุฃุนูุงู", "ูุบุฑูู", "ูุงุชุญุฉ", "ููููุต", "ูุงุฆุญุฉ", "ูุจุฑูู", "ุญุงููุฉ", "ูุญุณูุจ", "ุฎุทูุฑุฉ", "ูุญููู", "ุจุงุฑุฒุฉ", "ููุดูู", "ููุทูู", "ุณุงุฌุฏุฉ", "ูุฑุตูุต", "ุชูุฌุงู", "ูุญููุฏ", "ุฅุทุฑุงุก", "ูุฏููุฌ", "ุธุงูุฑุฉ", "ููููู", "ุนุฑูุงู", "ููุตูุฏ", "ูุฌุฒูุฉ", "ุฅุจุฏุงุก", "ูุงุนุฏุฉ", "ุชุฃููู", "ูุงูุทุฉ", "ูุนุฏูู", "ุตุงุจุฑุฉ", "ููููู", "ุทุงุนุฉ", "ูุฑุฒูู", "ุญุงุถูุฉ", "ูุชููู", "ุธุงูุฑุฉ", "ุชุฃููู", "ุดุงูุฎุฉ", "ุชููุงุก", "ูุงุญุตุฉ", "ูุฃุจูู", "ุฑุงุณุฎุฉ", "ูุฌุฏูุจ", "ุทุงุฑุญุฉ", "ููููุณ", "ูุงุจุนุฉ", "ูุฑุณูู", "ุฅุจูุงุก", "ูุฃุซูู", "ุนูุฑุงู", "ุญุงุณูุฉ", "ูุฑุงูุฏ", "ูุญุฑูู", "ุฅุฐุนุงู", "ูุซููุจ", "ูุงุซูุฉ", "ูุญุฑูู", "ูุงุฆุฒุฉ", "ูุชุจูุน", "ุชูููุฉ", "ูุงูุถุฉ", "ูุฎุตูุต", "ุฑุฌุญุงู", "ูุชุฐูู", "ูุฌุฏุงู", "ูุฃุซูุฑ", "ูููุฆุฉ", "ูุญููู", "ุดุงูุฑุฉ", "ุฎุงุชูุฉ", "ูุนููุฑ", "ุตุงุฏูุฉ", "ุตุงูุนุฉ", "ูุญุฑูุณ", "ูุตูุฏุฉ", "ุดูุฑุงู", "ููุตูุฑ", "ุณุงูุนุฉ", "ุชูุดูุฉ", "ูุฎุชูู", "ุฒุงูุฏุฉ", "ูุชููู", "ูุฑููุฉ", "ูุนููู", "ุฅุฑุถุงุก", "ูุชุฌูู", "ูุฑูุนุฉ", "ุทููุงุก", "ูุชููุฑ", "ุดุงููุฉ", "ูุญุตูุฑ", "ูุฎุฑูุท", "ูุฏููุฉ", "ูุญุธูุฑ", "ุฐุคุจุงู", "ูุฌุฑูุฑ", "ุณุงูุญุฉ", "ุฃุดุฌุงู", "ูุจุฑูุฏ", "ูุงุทุฆุฉ", "ูุญุฌูุฒ", "ุณูุทุงู", "ูุฏูุฏุฉ", "ูุฃุฐูู", "ุตุงูุชุฉ", "ูุฎุฏูุด", "ุญุงููุฉ", "ูุชูุงู", "ุณุงุนูุฉ", "ุญุงุตูุฉ", "ูุฌููุน", "ูุฑุจุงู", "ูุณููู", "ุฃุจูุงุก", "ููุฒูุฒ", "ููุตูุต", "ุดุงููุฉ", "ูุญุณูู", "ูุงุทูุฉ", "ุชุฃููุฏ", "ูุญุงูุฑ", "ุชุนููู", "ุฃุญุจุงุก", "ูููุฏุฉ", "ุฑุงุฏุนุฉ", "ูุชููู", "ูุงุถุฑุฉ", "ูุฎุจูู", "ูุงุถุญุฉ", "ูุจุฑูู", "ุชุณููุฉ", "ููุตูุต", "ุนุงุฌุฒุฉ", "ูุญุณูุณ", "ุฌุฏุฑุงู", "ูุชุฎูู", "ููุจูุถ", "ูุงุนูุฉ", "ูุญุจูุฑ", "ูุงุณุฏุฉ", "ูุญููู", "ูุงุตูุฉ", "ูุจุฎูุช", "ุตุงุฏูุฉ", "ูุญุตูุฏ", "ูุฎุฑูู", "ุนุงุฏูุฉ", "ูุญุจูุณ", "ูุฃุฎูุฐ", "ููุทูุน", "ููุฐูู", "ุฑูุจุงู", "ุบุงูุฑุฉ", "ุซุนุจุงู", "ูุชุดูู", "ูุงุฌุนุฉ", "ูุชููุณ", "ุฎุงุถุนุฉ", "ูุญุดูุฑ", "ุทุงูุฑุฉ", "ูุญุณูุฏ", "ูุฑูุงู", "ููุบูู", "ุณุฑุนุงู", "ููุทูู", "ูุจูุงุก", "ูุงูุนุฉ", "ูุญุดูุฏ", "ุงุชูุงู", "ูุญุตูู", "ูุธููู", "ุฎุงูุถุฉ", "ููุตูู", "ูุตููู", "ูุญุฑูุฒ", "ุณููุงู", "ูุชุฒูุฌ", "ุฅุนูุงุก", "ููููุถ", "ูุฑูุฑุฉ", "ูุฌููุจ", "ุญุงุดุฏุฉ", "ูุฃุฌูุฑ", "ุตุงุญุจุฉ", "ูุชุนูุณ", "ูุจุบูุถ", "ุฑุงุฌูุฉ", "ููููุท", "ุจุงุฑุนุฉ", "ูุฌุญูุฏ", "ุฎุงุฑูุฉ", "ูุชููู", "ุตุงุนุฏุฉ", "ุญุงุฒูุฉ", "ูุญุธูุธ", "ุตุงุฑุฎุฉ", "ูุบููุฏ", "ูุฐูุงู", "ูุชุฑูู", "ุตุจูุงู", "ูุญููู", "ุจุงุณูุฉ", "ูุญููู", "ุณุงุฎุทุฉ", "ูุญุฐูู", "ุบุงุฑูุฉ", "ุชุฃููู", "ุฏุงุญุถุฉ", "ูุนูุจุฉ", "ุจููุงู", "ูุฌุนูู", "ุซุงูุจุฉ", "ูุฏููู", "ุญุงุฆุฒุฉ", "ูุจุฐูู", "ุฑุงุฌูุฉ", "ูุญุจูู", "ูุงูุซุฉ", "ูุฃุฌูุฌ", "ุทุงุญูุฉ", "ูุฌุฒูู", "ุจุณุทุงุก", "ูุญุฌูุฑ", "ุญุงูุฏุฉ", "ูุฌุงูุฑ", "ูุงุจุทุฉ", "ูุซููุฌ", "ุณุจุญุงู", "ุนุงุฑูุฉ", "ูุณูุงู", "ูุซุจูุช", "ุณุฑุทุงู", "ูุฃููู", "ููุฑุงู", "ูุฎุทูุจ", "ูุงุตุนุฉ", "ูุญููุฑ", "ุฃุฎุทุงุก", "ูููุจุฉ", "ุนุฏูุงู", "ุทุงูุญุฉ", "ุฅุนูุงุก", "ููุฑูุถ", "ุนุงุฒูุฉ", "ุบูุฑุงู", "ุญุงูุธุฉ", "ุฅูุตุงุก", "ุจุงุฏุฑุฉ", "ูุญููู", "ุฎุงุฏุนุฉ", "ููููู", "ุญุงุดุฑุฉ", "ุนุตูุงู", "ุณุงุจุญุฉ", "ูุฃููุฑ", "ุฅุนุทุงุก", "ุฎุงููุฉ", "ุซูุงุซุฉ", "ุฃุฑุจุนุฉ", "ุชุฐูุฑุฉ", "ุดุฌูุฑุฉ", "ุถูุงูุฉ", "ุชุฏูุฆุฉ", "ุฃุณุจูุน", "ุฃุฑูุงุญ", "ุถูุถุงุก", "ุฃุนุถุงุก", "ุงุซูุงู", "ุฃุณูุงุก", "ุฒููุงู", "ุชุฏุจูุฑ", "ูุนุฌูู", "ุชุฌููู", "ุฑุงุฏุงุฑ", "ุชูุงุฑุจ", "ูุนูุงุฑู", "ุชุจุฑูุฏ", "ุทูุจุฉ", "ูุทููุฉ", "ุนุฐุจุฉ", "ูุงุฏุฆุฉ", "ูุงุถุญุฉ", "ุจููุฌุฉ", "ุฑุดููุฉ", "ูุงุนูุฉ", "ุตุงููุฉ", "ุฏุงูุฆุฉ", "ุจุณูุทุฉ", "ูุฑููุฉ", "ุตุงุฏูุฉ", "ูููุฉ", "ุฑุฒููุฉ", "ุนุทุฑุฉ", "ุจููุฉ", "ูุงุจุนุฉ", "ุบุงููุฉ", "ูุฎูุฉ", "ุญุฐุฑุฉ", "ุฑูููุฉ", "ุณุฎูุฉ", "ูููุฉ", "ุญูููุฉ", "ูุทููุฉ", "ูุจููุฉ", "ููุฏุณุฉ", "ุณุนูุฏุฉ", "ุบููุฉ", "ูููุฑุฉ", "ูุดุฑูุฉ", "ูุงุถูุฉ", "ุนุงููุฉ", "ูุงุนูุฉ", "ุฑุงููุฉ", "ุณุงููุฉ", "ูููุฉ", "ุฒููุฉ", "ุนูููุฉ", "ุดุฑููุฉ", "ูููุฑุฉ", "ูููุจุฉ", "ูููุจุฉ", "ุฌูููุฉ", "ุนุธููุฉ", "ุณูุญุฉ", "ุฑุญุจุฉ", "ูุฏูุฏุฉ", "ุญูููุฉ", "ุดูููุฉ", "ุฑุคููุฉ", "ุบููุฑุฉ", "ุณุชุงุฑุฉ", "ุญุตููุฉ", "ูุฏุจุฑุฉ", "ูุญุณูุฉ", "ููุตูุฉ", "ูุชุจุนุฉ", "ููุงูุฉ", "ุญุงูุธุฉ", "ูุงุตุญุฉ", "ูุฑุดุฏุฉ", "ููุฌูุฉ", "ูุงููุฉ", "ูุงููุฉ", "ุนุงุตูุฉ", "ูุงูุนุฉ", "ุฌุงุนูุฉ", "ุฑุงูุนุฉ", "ุฎุงูุถุฉ", "ูุงุถูุฉ", "ุญุงููุฉ", "ุนุงุฏูุฉ", "ูุงููุฉ", "ุขูุฑุฉ", "ุฒุงุฌุฑุฉ", "ูุงุฒุนุฉ", "ุฑุงุฏุนุฉ", "ุตุงุฑูุฉ", "ูููุฉ", "ูุงูุนุฉ", "ูุงููุฉ", "ูุงุนุฏุฉ", "ุจุงุณุทุฉ", "ูุงุจุถุฉ", "ูุงูุนุฉ"];

        // ูุงููุณ ููุณุน ููุชุญูู
        const DICTIONARY = [...new Set(WORD_LIST)];

        const gameState = {
            targetWord: "",
            currentRow: 0,
            currentGuess: "",
            gameOver: false,
            gameWon: false,
            stats: {
                played: 0,
                wins: 0,
                currentStreak: 0,
                maxStreak: 0,
                guessDistribution: [0, 0, 0, 0, 0, 0, 0, 0]
            }
        };

        // ุงูุชููุฆุฉ
        function init() {
            loadStats();
            loadTheme();
            createGrid();
            createKeyboard();
            startNewGame();
            setupEventListeners();
        }

        function loadStats() {
            const saved = localStorage.getItem('arwordle_stats');
            if (saved) {
                gameState.stats = JSON.parse(saved);
            }
        }

        function saveStats() {
            localStorage.setItem('arwordle_stats', JSON.stringify(gameState.stats));
        }

        function loadTheme() {
            const isDark = localStorage.getItem('arwordle_dark') === 'true';
            if (isDark) {
                document.body.classList.add('dark-mode');
                const icon = document.querySelector('#themeToggle i');
                const text = document.querySelector('#themeToggle span');
                icon.className = 'fas fa-sun text-xl';
                if (text) text.textContent = 'ููุงุฑู';
            }
        }

        function createGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';

            for (let row = 0; row < 8; row++) {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'flex gap-2 justify-center';
                rowDiv.id = `row-${row}`;

                for (let col = 0; col < 5; col++) {
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.id = `tile-${row}-${col}`;
                    rowDiv.appendChild(tile);
                }

                grid.appendChild(rowDiv);
            }
        }

        function createKeyboard() {
            const keyboard = document.getElementById('keyboard');
            
            // ุชุฑุชูุจ ููุญุฉ ููุงุชูุญ ุงูุขูููู ููุบุฉ ุงูุนุฑุจูุฉ
            const layout = [
                ["ุถ", "ุต", "ุซ", "ู", "ู", "ุบ", "ุน", "ู", "ุฎ", "ุญ", "ุฌ", "ุฏ"],
                ["ุด", "ุณ", "ู", "ุจ", "ู", "ุง", "ุช", "ู", "ู", "ู", "ุท"],
                ["ุฆ", "ุก", "ุค", "ุฑ", "ูุง", "ู", "ุฉ", "ู", "ุฒ", "ุธ"]
            ];

            keyboard.innerHTML = '';

            layout.forEach((row, index) => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'flex justify-center gap-1';

                // ุฅุถุงูุฉ ุฒุฑ Enter ูู ุจุฏุงูุฉ ุงูุตู ุงูุซุงูุซ
                if (index === 2) {
                    const enterKey = createKey('Enter', 'Enter', 'wide enter');
                    rowDiv.appendChild(enterKey);
                }

                // ุฅุถุงูุฉ ุงูุญุฑูู
                for (const char of row) {
                    const key = createKey(char, char);
                    rowDiv.appendChild(key);
                }

                // ุฅุถุงูุฉ ุฒุฑ Backspace ูู ููุงูุฉ ุงูุตู ุงูุซุงูุซ
                if (index === 2) {
                    const backspaceKey = createKey('โซ', 'Backspace', 'wide backspace');
                    rowDiv.appendChild(backspaceKey);
                }

                keyboard.appendChild(rowDiv);
            });
        }

        function createKey(text, value, extraClass = '') {
            const key = document.createElement('button');
            key.className = `key ${extraClass}`;
            key.textContent = text;
            key.dataset.key = value;

            key.addEventListener('click', () => {
                handleInput(value);
            });

            return key;
        }

        function startNewGame() {
            // ุงุฎุชูุงุฑ ูููุฉ ุนุดูุงุฆูุฉ ูู ุงููููุงุช ุงูุณููุฉ (ุจุฏูู ุฃุญุฑู ุตุนุจุฉ)
            let filteredWords = WORD_LIST.filter(word => word.length === 5);
            
            // ุงุณุชุจุนุงุฏ ุงููููุงุช ุงูุชู ุชุญุชูู ุนูู ุฃุญุฑู ุตุนุจุฉ ููุงุนุจูู
            filteredWords = filteredWords.filter(word => 
                !word.includes('ุบ') && 
                !word.includes('ุธ') && 
                !word.includes('ุถ') &&
                !word.includes('ุค') &&
                !word.includes('ุฆ') &&
                !word.includes('ุก')
            );

            if (filteredWords.length === 0) {
                filteredWords = WORD_LIST.filter(word => word.length === 5);
            }

            gameState.targetWord = filteredWords[Math.floor(Math.random() * filteredWords.length)];
            gameState.currentRow = 0;
            gameState.currentGuess = '';
            gameState.gameOver = false;
            gameState.gameWon = false;

            // ุฅุนุงุฏุฉ ุชุนููู ุงูุดุจูุฉ
            document.querySelectorAll('.tile').forEach(tile => {
                tile.className = 'tile';
                tile.textContent = '';
            });

            // ุฅุนุงุฏุฉ ุชุนููู ููุญุฉ ุงูููุงุชูุญ
            document.querySelectorAll('.key').forEach(key => {
                // ุงูุญูุงุธ ุนูู ุฃููุงู ุงูุฃุฒุฑุงุฑ ุงูุฎุงุตุฉ
                if (key.dataset.key === 'Enter') {
                    key.className = 'key wide enter';
                } else if (key.dataset.key === 'Backspace') {
                    key.className = 'key wide backspace';
                } else {
                    key.className = key.className.replace(/(correct|present|absent)/g, '').trim();
                    if (key.classList.contains('wide')) {
                        key.classList.add('wide');
                    }
                }
            });

            // ุฅุฎูุงุก ุงูุฑุณุงูุฉ
            document.getElementById('message').textContent = '';

            console.log('ุงููููุฉ ุงููุณุชูุฏูุฉ:', gameState.targetWord);
        }

        function handleInput(key) {
            if (gameState.gameOver) return;

            if (key === 'Enter') {
                submitGuess();
            } else if (key === 'Backspace') {
                if (gameState.currentGuess.length > 0) {
                    gameState.currentGuess = gameState.currentGuess.slice(0, -1);
                    updateGrid();
                }
            } else if (gameState.currentGuess.length < 5) {
                // ูุจูู ุงูุญุฑูู ุงูุนุฑุจูุฉ ููุท
                if (/^[\u0600-\u06FF]$/.test(key)) {
                    gameState.currentGuess += key;
                    updateGrid();

                    // ุชุฃุซูุฑ ุธููุฑ ุงูุญุฑู
                    const tile = document.getElementById(`tile-${gameState.currentRow}-${gameState.currentGuess.length - 1}`);
                    tile.classList.add('filled');
                    setTimeout(() => tile.classList.remove('filled'), 100);
                }
            }
        }

        function updateGrid() {
            for (let i = 0; i < 5; i++) {
                const tile = document.getElementById(`tile-${gameState.currentRow}-${i}`);
                tile.textContent = gameState.currentGuess[i] || '';
            }
        }

        function submitGuess() {
            if (gameState.currentGuess.length !== 5) {
                showMessage('ุงููููุฉ ูุฌุจ ุฃู ุชููู 5 ุฃุญุฑู');
                shakeRow();
                return;
            }

            if (!isValidWord(gameState.currentGuess)) {
                showMessage('ุงููููุฉ ุบูุฑ ููุฌูุฏุฉ ูู ุงููุงููุณ');
                shakeRow();
                return;
            }

            evaluateGuess();
        }

        function isValidWord(word) {
            return DICTIONARY.includes(word);
        }

        function evaluateGuess() {
            const guess = gameState.currentGuess;
            const target = gameState.targetWord;

            const result = Array(5).fill('absent');
            const targetLetters = {};

            // ุนุฏ ุชูุฑุงุฑุงุช ุงูุญุฑูู ูู ุงููููุฉ ุงููุณุชูุฏูุฉ
            for (const letter of target) {
                targetLetters[letter] = (targetLetters[letter] || 0) + 1;
            }

            // ุฃููุงู: ุชุญุฏูุฏ ุงูุญุฑูู ุงูุตุญูุญุฉ ูู ุงูููุงู ุงูุตุญูุญ
            for (let i = 0; i < 5; i++) {
                if (guess[i] === target[i]) {
                    result[i] = 'correct';
                    targetLetters[guess[i]]--;
                }
            }

            // ุซุงููุงู: ุชุญุฏูุฏ ุงูุญุฑูู ุงูููุฌูุฏุฉ ูููู ูู ููุงู ุฎุงุทุฆ
            for (let i = 0; i < 5; i++) {
                if (result[i] !== 'correct' && targetLetters[guess[i]] > 0) {
                    result[i] = 'present';
                    targetLetters[guess[i]]--;
                }
            }

            // ุนุฑุถ ุงููุชูุฌุฉ ูุน ุชุฃุซูุฑ ุงูููุจ
            for (let i = 0; i < 5; i++) {
                const tile = document.getElementById(`tile-${gameState.currentRow}-${i}`);
                const delay = i * 300;

                setTimeout(() => {
                    tile.classList.add('flip');
                    setTimeout(() => {
                        tile.classList.add(result[i]);
                        updateKeyboard(guess[i], result[i]);
                    }, 300);
                }, delay);
            }

            // ุงูุชุญูู ุฅุฐุง ูุงุฒ
            const won = guess === target;

            setTimeout(() => {
                if (won) {
                    gameState.gameWon = true;
                    gameState.gameOver = true;
                    handleWin();
                } else if (gameState.currentRow === 7) {
                    gameState.gameOver = true;
                    handleLoss();
                } else {
                    gameState.currentRow++;
                    gameState.currentGuess = '';
                }
            }, 1800);
        }

        function updateKeyboard(letter, status) {
            const key = document.querySelector(`.key[data-key="${letter}"]`);
            if (!key) return;

            // ูุง ูุบูุฑ ุฃููุงู ุงูุฃุฒุฑุงุฑ ุงูุฎุงุตุฉ (Enter ู Backspace)
            if (key.classList.contains('enter') || key.classList.contains('backspace')) {
                return;
            }

            if (status === 'correct') {
                key.classList.add('correct');
                key.classList.remove('present', 'absent');
            } else if (status === 'present' && !key.classList.contains('correct')) {
                key.classList.add('present');
                key.classList.remove('absent');
            } else if (status === 'absent' && !key.classList.contains('correct') && !key.classList.contains('present')) {
                key.classList.add('absent');
            }
        }

        function handleWin() {
            showMessage('๐ ุฃุญุณูุช! ููุฏ ูุฒุช!');
            gameState.stats.played++;
            gameState.stats.wins++;
            gameState.stats.currentStreak++;
            gameState.stats.maxStreak = Math.max(gameState.stats.maxStreak, gameState.stats.currentStreak);
            gameState.stats.guessDistribution[gameState.currentRow]++;

            saveStats();
            updateStatsDisplay();

            setTimeout(() => {
                showStats();
            }, 1500);
        }

        function handleLoss() {
            showMessage(`๐ ุงููููุฉ ูุงูุช: ${gameState.targetWord}`);
            gameState.stats.played++;
            gameState.stats.currentStreak = 0;

            saveStats();
            updateStatsDisplay();

            setTimeout(() => {
                showStats();
            }, 1500);
        }

        function showMessage(text) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.classList.add('bounce');
            setTimeout(() => messageEl.classList.remove('bounce'), 500);
        }

        function shakeRow() {
            const row = document.getElementById(`row-${gameState.currentRow}`);
            if (row) {
                row.classList.add('shake');
                setTimeout(() => row.classList.remove('shake'), 500);
            }
        }

        function showStats() {
            updateStatsDisplay();
            document.getElementById('statsModal').classList.remove('hidden');
        }

        function updateStatsDisplay() {
            document.getElementById('playedCount').textContent = gameState.stats.played;
            document.getElementById('winPercent').textContent = gameState.stats.played > 0 ? Math.round((gameState.stats.wins / gameState.stats.played) * 100) + '%' : '0%';
            document.getElementById('currentStreak').textContent = gameState.stats.currentStreak;
            document.getElementById('maxStreak').textContent = gameState.stats.maxStreak;

            const distContainer = document.getElementById('guessDistribution');
            distContainer.innerHTML = '';

            const maxDist = Math.max(...gameState.stats.guessDistribution);

            gameState.stats.guessDistribution.forEach((count, index) => {
                const bar = document.createElement('div');
                bar.className = 'stats-bar';
                bar.style.width = maxDist > 0 ? `${(count / maxDist) * 100}%` : '0%';
                bar.textContent = `${index + 1}: ${count}`;
                distContainer.appendChild(bar);
            });
        }

        function shareResult() {
            let shareText = `ูููุฉ ๐งฉ\n`;
            shareText += `ุงููุชูุฌุฉ: ${gameState.gameWon ? gameState.currentRow + 1 : 'X'}/8\n`;

            for (let row = 0; row <= gameState.currentRow; row++) {
                for (let col = 0; col < 5; col++) {
                    const tile = document.getElementById(`tile-${row}-${col}`);
                    if (tile.classList.contains('correct')) {
                        shareText += '๐ฉ';
                    } else if (tile.classList.contains('present')) {
                        shareText += '๐จ';
                    } else if (tile.classList.contains('absent')) {
                        shareText += 'โฌ';
                    }
                }
                shareText += '\n';
            }

            shareText += '\n#ูููุฉ #ูุนุจุฉ_ูููุฉ';

            navigator.clipboard.writeText(shareText).then(() => {
                showMessage('ุชู ูุณุฎ ุงููุชูุฌุฉ ุฅูู ุงูุญุงูุธุฉ!');
            }).catch(() => {
                showMessage('ุญุฏุซ ุฎุทุฃ ูู ุงููุดุงุฑูุฉ');
            });
        }

        function setupEventListeners() {
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey || e.metaKey || e.altKey) return;

                if (e.key === 'Enter') {
                    handleInput('Enter');
                } else if (e.key === 'Backspace') {
                    handleInput('Backspace');
                } else if (/^[\u0600-\u06FF]$/.test(e.key)) {
                    handleInput(e.key);
                }
            });

            document.getElementById('helpBtn').addEventListener('click', () => {
                document.getElementById('helpModal').classList.remove('hidden');
            });

            document.getElementById('statsBtn').addEventListener('click', showStats);

            document.getElementById('themeToggle').addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                const icon = document.querySelector('#themeToggle i');
                const text = document.querySelector('#themeToggle span');
                
                if (document.body.classList.contains('dark-mode')) {
                    icon.className = 'fas fa-sun text-xl';
                    if (text) text.textContent = 'ููุงุฑู';
                    localStorage.setItem('arwordle_dark', 'true');
                } else {
                    icon.className = 'fas fa-moon text-xl';
                    if (text) text.textContent = 'ูููู';
                    localStorage.setItem('arwordle_dark', 'false');
                }
            });

            document.getElementById('closeHelp').addEventListener('click', () => {
                document.getElementById('helpModal').classList.add('hidden');
            });

            document.getElementById('closeStats').addEventListener('click', () => {
                document.getElementById('statsModal').classList.add('hidden');
            });

            document.getElementById('startGameBtn').addEventListener('click', () => {
                document.getElementById('helpModal').classList.add('hidden');
                startNewGame();
            });

            document.getElementById('newGameBtn').addEventListener('click', () => {
                document.getElementById('statsModal').classList.add('hidden');
                startNewGame();
            });

            document.getElementById('shareBtn').addEventListener('click', shareResult);

            document.querySelectorAll('.modal-overlay').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.add('hidden');
                    }
                });
            });
        }

        window.addEventListener('load', init);
    </script>
</body>
</html>
